# 飞机射击游戏 (my-raiden-game) 开发计划

**1. 项目目标**

开发一款类似经典游戏“雷电”的纵向卷轴飞机射击游戏。玩家控制飞机躲避敌人攻击、射击敌人、获取道具强化自身，并挑战关底 Boss。

**2. 核心功能**

*   **玩家系统**：
    *   飞机控制：键盘控制上下左右移动。
    *   射击：发射可升级的子弹。
    *   特殊武器（炸弹）：有限数量，清屏或造成大范围伤害。
    *   生命值与被击中判定。
*   **敌人系统**：
    *   多种小兵类型：具有不同的移动路径、攻击模式和生命值。
    *   敌人生成：按预定波次或关卡脚本动态生成。
    *   Boss 战：每关或特定关卡后出现，拥有独特的攻击模式和高生命值。
*   **子弹系统**：
    *   玩家子弹：可升级（例如：单发 -> 多发 -> 散射 -> 激光等）。
    *   敌人子弹：多种类型（例如：普通直线、追踪、弹幕等）。
    *   子弹与飞机、子弹与子弹（可选）的碰撞检测。
*   **道具系统**：
    *   武器升级道具 (P)：提升玩家子弹威力或改变子弹类型。
    *   炸弹补充道具 (B)：增加炸弹数量。
    *   护盾道具 (S)（可选）：短时间无敌。
    *   得分道具（可选）：增加分数。
*   **游戏流程与界面**：
    *   开始界面：显示游戏标题、开始按钮。
    *   游戏主界面：显示游戏区域、玩家得分、生命值、炸弹数量。
    *   游戏结束界面：显示最终得分、重新开始按钮。
    *   关卡系统：逐步增加难度，引入新敌人和 Boss。
    *   暂停功能（可选）。
*   **视觉与音效**：
    *   背景滚动：营造前进的视觉效果。
    *   动画效果：爆炸、射击、道具获取等。
    *   音效：射击、爆炸、被击中、获取道具、游戏背景音乐。

**3. 技术选型**

*   **前端**：纯 HTML, CSS, JavaScript
*   **绘图**：HTML5 Canvas API

**4. 项目结构 (文件夹: `my-raiden-game`)**

```mermaid
graph TD
    A[my-raiden-game] --> B[css]
    A --> C[js]
    A --> D[assets]
    A --> E[index.html]
    A --> F[README.md]

    B --> G[style.css]

    C --> H[main.js (入口, 初始化)]
    C --> I[game.js (主循环, 状态, 关卡)]
    C --> J[player.js (玩家类)]
    C --> K[enemy.js (敌人基类, 派生类)]
    C --> L[boss.js (Boss 类)]
    C --> M[bullet.js (子弹类)]
    C --> N[powerup.js (道具类)]
    C --> O[collision.js (碰撞检测)]
    C --> P[ui.js (UI 更新)]
    C --> Q[assets.js (资源加载)]
    C --> R[utils.js (工具函数)]

    D --> S[images]
    D --> T[sounds]

    S --> U[player.png]
    S --> V[enemy_type1.png]
    S --> W[boss_stage1.png]
    S --> X[bullet_player.png]
    S --> Y[bullet_enemy.png]
    S --> Z[powerup_weapon.png]
    S --> AA[explosion_sprite.png]
    S --> AB[background_stage1.png]

    T --> AC[shoot.wav]
    T --> AD[explosion.wav]
    T --> AE[powerup_get.wav]
    T --> AF[bgm_stage1.mp3]
    T --> AG[player_hit.wav]
```

*   **`my-raiden-game/`**
    *   **`css/`**
        *   `style.css`: 游戏的主要 CSS 样式。
    *   **`js/`** (JavaScript 模块)
        *   `main.js`: 游戏总入口。
        *   `game.js`: 核心游戏逻辑。
        *   `player.js`: 定义玩家飞机类。
        *   `enemy.js`: 定义敌人飞机的基类和各种具体敌人类型的类。
        *   `boss.js`: 定义 Boss 类。
        *   `bullet.js`: 定义子弹类。
        *   `powerup.js`: 定义道具类。
        *   `collision.js`: 负责处理游戏中所有碰撞检测逻辑。
        *   `ui.js`: 管理和更新用户界面元素。
        *   `assets.js`: 负责加载和管理所有游戏资源。
        *   `utils.js`: 包含一些通用的辅助函数。
    *   **`assets/`**
        *   **`images/`**: 存放所有游戏图片资源。
        *   **`sounds/`**: 存放所有游戏音效和背景音乐。
    *   `index.html`: 游戏的主 HTML 文件。
    *   `README.md`: 项目说明文件。

**5. `README.md` 文件内容大纲**

1.  **项目名称**: my-raiden-game
2.  **简介**: 一款使用 HTML5 Canvas 和 JavaScript 开发的纵向卷轴飞机射击游戏，灵感来源于经典游戏“雷电”。
3.  **技术栈**: HTML, CSS, JavaScript (ES6+), HTML5 Canvas
4.  **功能特性**:
    *   玩家飞机控制与射击
    *   多种敌人与 Boss 战
    *   武器升级与道具系统
    *   得分与生命系统
    *   （其他已实现的核心功能）
5.  **如何运行**:
    *   克隆或下载本项目。
    *   直接在现代浏览器中打开 `index.html` 文件。
6.  **游戏操作**:
    *   方向键 (↑, ↓, ←, →): 控制飞机移动
    *   空格键/Z键: 射击
    *   X键: 使用炸弹
7.  **开发日志**:
    *   YYYY-MM-DD: 项目启动，完成初步规划和 `README.md` 创建。
    *   ... (后续开发中持续更新)
8.  **开发阶段建议/待办事项**
    1.  **阶段一：基础框架与玩家**
    2.  **阶段二：简单敌人与碰撞**
    3.  **阶段三：敌人多样化与玩家被击中**
    4.  **阶段四：道具系统**
    5.  **阶段五：Boss 战**
    6.  **阶段六：完善与优化**
*   **详细计划:**
            ```mermaid
            graph TD
                A[阶段六：完善与优化] --> B[1. UI/UX 改进];
                A --> C[2. 音效与音乐];
                A --> D[3. 游戏内容扩展];
                A --> E[4. 性能优化];
                A --> F[5. 其他完善];

                B --> B1[界面元素美化];
                B --> B2[交互反馈增强];
                B --> B3[操作体验优化];

                C --> C1[核心音效实现];
                C --> C2[背景音乐 (BGM)];
                C --> C3[音效/音乐控制 (可选)];

                D --> D1[更多关卡设计];
                D --> D2[新敌人/Boss (可选)];
                D --> D3[得分与奖励机制];

                E --> E1[代码审查与重构];
                E --> E2[对象池管理];
                E --> E3[绘制优化];

                F --> F1[游戏暂停功能];
                F --> F2[帮助/操作说明];
                F --> F3[代码注释与文档];
            ```
        *   **详细任务列表：**
            *   **1. UI/UX 改进 (User Interface / User Experience Improvements)**
                *   **1.1. 界面元素美化与信息展示优化:**
                    *   得分、生命值、炸弹数量: 重新设计或美化这些核心信息的显示方式。
                    *   Boss 血条: 为 Boss 设计并实现一个醒目的血条。
                    *   游戏状态界面: 开始界面、游戏结束界面、暂停界面。
                    *   道具图标/效果: 设计或寻找更形象的图标。
                    *   游戏消息提示: 例如“Weapon Upgraded!”、“Game Over”等。
                *   **1.2. 交互反馈增强:**
                    *   玩家被击中: 增加更明显的视觉反馈。
                    *   敌人/Boss 被击中/摧毁: 优化爆炸动画/粒子效果。
                    *   按钮点击: 增加视觉或音效反馈。
                *   **1.3. 操作体验优化:**
                    *   手感调优: 调整玩家移动速度、射击延迟等。
                    *   输入方式: 考虑增加手柄支持或鼠标控制。
            *   **2. 音效与音乐 (Sound Effects and Music)**
                *   **2.1. 核心音效实现:** 玩家射击、敌人射击、击中、爆炸、获取道具、玩家被击中/死亡、使用炸弹、UI 点击等。
                *   **2.2. 背景音乐 (BGM):** 普通关卡、Boss 战、开始/结束界面。
                *   **2.3. 音效/音乐控制 (可选):** 静音选项、音量调节。
            *   **3. 游戏内容扩展 (Game Content Expansion)**
                *   **3.1. 更多关卡设计与敌人配置:** 设计新关卡，调整敌人属性。
                *   **3.2. 新的敌人类型或 Boss (可选):** 根据优先级和时间。
                *   **3.3. 得分与奖励机制完善:** 连击奖励、特殊道具、高分榜。
            *   **4. 性能优化 (Performance Optimization)**
                *   **4.1. 代码审查与逻辑优化:** 优化 `update()` 和 `draw()`。
                *   **4.2. 对象池管理:** 对子弹、敌人等实现对象池。
                *   **4.3. 绘制优化:** 避免不必要的重绘、离屏Canvas、图片资源优化、雪碧图。
                *   **4.4. 碰撞检测优化 (可选):** 评估当前碰撞检测性能。
            *   **5. 其他完善 (Other Refinements)**
                *   **5.1. 游戏暂停功能:** 实现暂停和恢复。
                *   **5.2. 帮助/操作说明界面:** 提供游戏操作说明。
                *   **5.3. 代码注释和文档:** 补充注释，更新 `README.md`。
                *   **5.4. 跨浏览器兼容性测试:** 在主流浏览器测试。
                *   **5.5. 游戏难度曲线调整:** 确保难度平滑过渡。
9.  **贡献者** (如果适用)
10. **版权信息** (如果适用)

**6. 资源说明**

*   图片和音效资源：您可以从免费资源网站寻找，或初期使用占位符。